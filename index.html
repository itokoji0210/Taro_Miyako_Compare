<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>YouTube æ¯”è¼ƒï¼ˆä¸­å¤®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼æ—¢å®šï¼šå·¦=éå»ï¼å³=ä»Šï½œãƒ—ãƒ¬ãƒ­ãƒ¼ãƒ€ãƒ¼ï¼‹åŒæœŸï¼‰</title>
<style>
  :root{
    --split:50%;
    --fade:1;                 /* 1=ä»Š(ä¸Š100%) / 0=æ˜”(ä¸Š0%) */
    --accent:#2b7cff;
    --radius:12px;
    --timeline:#2b7cff;
    --timeline-bg:#1b1f2a;
    --timeline-border:#2a3142;
    --compare-bg:#2a2f3d;
  }
  /* åŸºæœ¬ */
  html,body{height:100%; background:#0f1115}
  body{margin:0;color:#e8e8e8;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Sans","Noto Sans JP",sans-serif}
  header{padding:14px 16px 6px}
  h1{font-size:clamp(16px,2.6vw,20px);margin:0 0 6px}
  p{margin:0;font-size:12px;opacity:.85}
  .wrap{max-width:1200px;margin:10px auto 18px;padding:0 12px}

  /* æ¯”è¼ƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ */
  .compare{position:relative;width:100%;aspect-ratio:16/9;background:#000;border-radius:var(--radius);overflow:hidden}
  /* ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã¯å®‰å…¨é ˜åŸŸå«ã‚ã¦ç”»é¢ã„ã£ã±ã„ */
  .fs .compare{width:100vw;height:100svh;aspect-ratio:auto;border-radius:0}
  .layer{position:absolute;inset:0}
  .ytbox{position:absolute;inset:0}

  /* ãƒ¢ãƒ¼ãƒ‰ï¼šã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ / ãƒ•ã‚§ãƒ¼ãƒ‰ */
  .mode-slider .top{opacity:1;clip-path:inset(0 0 0 var(--split))}
  .mode-fade   .top{opacity:var(--fade);transition:opacity .06s linear;clip-path:inset(0 0 0 0)}

  /* ã‚¯ãƒªãƒƒã‚¯ã‚¬ãƒ¼ãƒ‰ï¼ˆèª¤ã‚¿ãƒƒãƒ—åœæ­¢é˜²æ­¢ï¼‰ */
  .clickshield{position:absolute;inset:0;z-index:5;pointer-events:auto}

  /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆãƒ‡ãƒ¢å¾€å¾©ã‚ã‚Šï¼ãƒ•ã‚§ãƒ¼ãƒ‰æ™‚ã¯éè¡¨ç¤ºï¼‰ */
  .slider-rail{position:absolute;inset:0;pointer-events:none;z-index:7}
  .split-line{position:absolute;top:0;bottom:0;left:var(--split);transform:translateX(-50%);width:2px;background:rgba(255,255,255,.92)}
  .handle{position:absolute;top:50%;left:var(--split);transform:translate(-50%,-50%);width:26px;height:26px;border-radius:50%;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.35);pointer-events:auto;cursor:ew-resize;touch-action:none}
  .mode-fade .slider-rail{display:none}

  /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
  .loading{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.6));z-index:8;opacity:0;visibility:hidden;transition:.2s}
  .loading.show{opacity:1;visibility:visible}
  .spinner{width:36px;height:36px;border:3px solid #ffffff40;border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ */
  .timeline{display:flex;align-items:center;gap:8px;margin:8px 0 2px;font-size:12px}
  .time{min-width:72px;text-align:center;font-variant-numeric:tabular-nums}
  .scrub-wrap{position:relative;flex:1 1 auto}
  .buffer{position:absolute;left:0;right:0;top:50%;height:6px;transform:translateY(-50%);background:var(--timeline-bg);border:1px solid var(--timeline-border);border-radius:999px;overflow:hidden}
  .buffer>.bar{height:100%;width:0%;background:linear-gradient(90deg,#375a9f,#2b7cff)}
  .scrub{-webkit-appearance:none;appearance:none;width:100%;height:6px;background:transparent;position:relative}
  .scrub::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;border:1px solid #00000030}
  .scrub::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#fff;border:1px solid #00000030}

  /* æ“ä½œç¾¤ */
  .controls{display:flex;flex-wrap:wrap;gap:8px 10px;align-items:center;padding:10px 2px}
  .controls button,.controls select,.controls input[type="range"]{background:#1b1f2a;color:#e8e8e8;border:1px solid #2a3142;border-radius:10px;padding:10px 12px;font-size:15px}
  .range{flex:1 1 220px;display:flex;align-items:center;gap:8px}
  #range{-webkit-appearance:none;appearance:none;width:100%;height:8px;background:var(--compare-bg);border-radius:999px}
  #range::-webkit-slider-thumb,#range::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:#fff;border:1px solid #00000030}

  /* ã€Œè§’ãƒ©ãƒ™ãƒ«ã€ */
  .corner{position:absolute;top:10px;left:10px;z-index:6;padding:6px 10px;font-size:12px;border-radius:8px;background:rgba(0,0,0,.55);border:1px solid #2a3142}
  .corner.right{left:auto;right:10px}

  /* åˆå›æ³¨é‡ˆã‚¬ã‚¤ãƒ‰ */
  .guide{
    position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
    background:rgba(0,0,0,.55);color:#fff;z-index:20;opacity:0;visibility:hidden;transition:.3s;
  }
  .guide.show{opacity:1;visibility:visible;}
  .guide .box{
    background:rgba(0,0,0,.8);padding:16px 20px;border-radius:12px;max-width:92%;
    text-align:center;font-size:14px;line-height:1.6;box-shadow:0 8px 30px rgba(0,0,0,.35);
  }
  .guide .box h3{margin:0 0 8px;font-size:16px;}
  .guide .bullet{margin:.25em 0}
  .guide button{
    margin-top:12px;padding:8px 14px;border:1px solid #2a3142;border-radius:8px;background:#1b1f2a;color:#fff;cursor:pointer;
  }

  /* äº‹å‰ãƒãƒƒãƒ•ã‚¡ç”¨ ãƒ—ãƒ¬ãƒ­ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒˆï¼ˆé€²æ—è¦‹ãˆã‚‹åŒ–å¼·åŒ–ï¼‰ */
  .preload {
    position:absolute; inset:0; z-index:15;
    display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg,rgba(0,0,0,.75),rgba(0,0,0,.55));
    color:#fff; opacity:0; visibility:hidden; transition:.25s;
  }
  .preload.show { opacity:1; visibility:visible; }
  .preload .panel{
    width:min(560px,92%); background:rgba(0,0,0,.7);
    border:1px solid #2a3142; border-radius:12px; padding:16px 18px;
    box-shadow:0 8px 30px rgba(0,0,0,.35);
  }
  .preload h3{ margin:0 0 10px; font-size:16px; }
  .preload .row{ margin:8px 0; }
  .preload .label{ display:flex; justify-content:space-between; font-size:12px; opacity:.95; }
  .preload .barwrap{
    position:relative; height:10px; border:1px solid #2a3142; border-radius:999px;
    background:#1b1f2a; overflow:hidden;
  }
  .preload .bar{ position:absolute; left:0; top:0; bottom:0; width:0%; background:linear-gradient(90deg,#375a9f,#2b7cff); transition:width .15s linear; }
  .preload .note{ margin-top:10px; font-size:12px; opacity:.95; }
  .preload .total{ margin-top:6px; font-size:12px; opacity:.95;}
  .preload .actions{ margin-top:12px; display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap;}
  .preload button{
    background:#1b1f2a; color:#e8e8e8; border:1px solid #2a3142; border-radius:8px; padding:10px 12px; font-size:14px;
  }
  .preload button[disabled]{ opacity:.5; cursor:not-allowed; }

  /* === å‹•ç”»ã®å¤–ã«å‡ºã™UIç¾¤ === */
  /* ä¸Šï¼šãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒãƒ¼ï¼ˆé€šå¸¸æ™‚ã¯å‹•ç”»ã®å¤–ã€‚ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã¯å‹•ç”»ä¸Šã«ãƒãƒƒã‚¸è¡¨ç¤ºï¼‰ */
  .top-out{display:flex;justify-content:center;gap:10px;margin:6px 0 10px}
  .mode-btn{padding:8px 12px;border-radius:999px;background:#1b1f2a;border:1px solid #2a3142;font-size:13px;cursor:pointer}
  .fs .top-out{display:none} /* ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã§ã¯å¤–ã®UIã¯éš ã™ */
  /* ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã®ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºãƒãƒƒã‚¸ï¼ˆå‹•ç”»ä¸Šï¼‰ */
  .fs .mode-badge-fs{
    position:absolute;left:50%;top:10px;transform:translateX(-50%);
    z-index:10;padding:6px 10px;border-radius:999px;background:#1b1f2a;border:1px solid #2a3142;font-size:12px;opacity:.95
  }

  /* ä¸‹ï¼šãƒ•ã‚§ãƒ¼ãƒ‰ç”¨ã®å¤§å‹ãƒãƒ¼ï¼ˆé€šå¸¸æ™‚ã¯å‹•ç”»ã®å¤–ã€‚ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã®ã¿å‹•ç”»ä¸Šã«è¡¨ç¤ºï¼‰ */
  .fade-out{display:none}
  .show-fade-out .fade-out{display:block}
  .fade-out .wrap2{
    margin:10px auto 0; width:min(760px,94%);display:flex;align-items:center;gap:12px;
    background:#131723;border:1px solid #2a3142;border-radius:999px;padding:12px 16px;
  }
  .fade-out .wrap2 span{font-size:12px;opacity:.95}
  .fade-out input{flex:1 1 auto;height:8px}
  /* ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ä¸­ã¯å‹•ç”»å†…ã«è¡¨ç¤ºï¼ˆã‚‚ã¨ã‚‚ã¨ã®ä¸‹éƒ¨ãƒãƒ¼ï¼‰ */
  .fs .fade-bottom{position:absolute;left:0;right:0;bottom:0;z-index:9;display:flex;align-items:center;justify-content:center;gap:10px;
    padding:12px 14px;background:linear-gradient(0deg,rgba(0,0,0,.70),rgba(0,0,0,0));}
  .fs.mode-fade .fade-bottom{display:flex}

  /* ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ»å®‰å…¨é ˜åŸŸ */
  .fs body{padding:0; margin:0}
  @supports(padding:max(0px)){ .fs .fade-bottom{padding-bottom: max(12px, env(safe-area-inset-bottom)); } }

  /* ã‚¹ãƒãƒ›å‘ã‘ã¡ã‚‡ã„å¤§ãã‚ */
  @media (max-width:640px){
    .controls button,.controls select{font-size:15px;padding:10px 12px}
    .handle{width:28px;height:28px}
  }
  @keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>
<body>
  <header class="wrap">
    <h1>éå» Ã— ä»Šï½œYouTube æ¯”è¼ƒï¼ˆä¸­å¤®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼šå·¦=éå»ï¼å³=ä»Šï¼‰</h1>
    <p>æ—¢å®šã¯ä¸­å¤®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆè‡ªå‹•ãƒ‡ãƒ¢ã‚ã‚Šï¼‰ã€‚ãƒ•ã‚§ãƒ¼ãƒ‰æ¯”è¼ƒã‚‚å¯ã€‚å†ç”Ÿãƒ»ã‚·ãƒ¼ã‚¯ã¯2æœ¬ã‚’åŒæœŸã—ã¾ã™ã€‚</p>
  </header>

  <!-- å‹•ç”»ã®å¤–ï¼šä¸Šå´ã®ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ -->
  <div class="wrap top-out" aria-label="ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆå‹•ç”»ã®å¤–ï¼‰">
    <button id="modeBtn" class="mode-btn" type="button" title="ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ãƒ•ã‚§ãƒ¼ãƒ‰åˆ‡æ›¿">ãƒ¢ãƒ¼ãƒ‰ï¼šã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</button>
  </div>

  <main class="wrap">
    <section id="compare" class="compare mode-slider" aria-label="YouTubeæ¯”è¼ƒ">
      <!-- ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã®ã¿ä½¿ã†ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºãƒãƒƒã‚¸ -->
      <div id="modeBadgeFS" class="mode-badge-fs" style="display:none">ãƒ¢ãƒ¼ãƒ‰ï¼šã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼</div>

      <!-- è§’ãƒ©ãƒ™ãƒ«ï¼šæ˜”ï¼ˆå·¦ä¸Šï¼‰ï¼ä»Šï¼ˆå³ä¸Šï¼‰ -->
      <div class="corner" aria-hidden="true">2011å¹´3æœˆ12æ—¥</div>
      <div class="corner right" aria-hidden="true">2025å¹´6æœˆ</div>

      <!-- ä¸‹ï¼šæ˜” -->
      <div class="layer bottom"><div id="pastBox" class="ytbox"></div></div>
      <!-- ä¸Šï¼šä»Š -->
      <div class="layer top" id="topLayer"><div id="nowBox" class="ytbox"></div></div>

      <!-- èª¤ã‚¿ãƒƒãƒ—åœæ­¢é˜²æ­¢ -->
      <div class="clickshield" id="clickshield"></div>

      <!-- ä¸­å¤®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ -->
      <div class="slider-rail" aria-hidden="true">
        <div class="split-line" id="splitLine"></div>
        <div class="handle" id="handle" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" aria-label="æ¯”è¼ƒä½ç½®"></div>
      </div>

      <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° -->
      <div class="loading" id="loading"><div class="spinner"></div></div>

      <!-- åˆå›æ³¨é‡ˆã‚¬ã‚¤ãƒ‰ -->
      <div class="guide" id="guide">
        <div class="box">
          <h3>æ“ä½œã‚¬ã‚¤ãƒ‰</h3>
          <div class="bullet">ğŸ–±ï¸ ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’<strong>ãƒ‰ãƒ©ãƒƒã‚°</strong>ã—ã¦ã€Œéå» â†” ä»Šã€ã‚’æ¯”è¼ƒã§ãã¾ã™ã€‚</div>
          <div class="bullet">ğŸ”„ <strong>ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿</strong>ã§ã€ãƒ•ã‚§ãƒ¼ãƒ‰æ¯”è¼ƒã«ã‚‚ã§ãã¾ã™ï¼ˆå‹•ç”»ã®ä¸Šã®ãƒœã‚¿ãƒ³ï¼ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã¯ãƒãƒƒã‚¸ï¼‰ã€‚</div>
          <div class="bullet">â–¶ï¸ <strong>å†ç”Ÿ</strong>ã§2æœ¬ã®YouTubeã‚’åŒæœŸå†ç”Ÿã—ã¾ã™ã€‚</div>
          <button id="guideClose">OK</button>
        </div>
      </div>

      <!-- äº‹å‰ãƒãƒƒãƒ•ã‚¡ã®ãƒ—ãƒ¬ãƒ­ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒˆï¼ˆé€²æ—å¼·åŒ–ï¼†æ•°å›ãƒ‡ãƒ¢å¾€å¾©ï¼‰ -->
      <div class="preload" id="preload">
        <div class="panel">
          <h3>èª­ã¿è¾¼ã¿æº–å‚™ä¸­â€¦ï¼ˆæœ€é©åŒ–ã—ã¦ã‹ã‚‰å†ç”Ÿã—ã¾ã™ï¼‰</h3>

          <div class="row">
            <div class="label"><span>æ˜”ï¼ˆå·¦ï¼‰</span><span id="prePastPct">0%</span></div>
            <div class="barwrap"><div class="bar" id="prePastBar"></div></div>
          </div>

          <div class="row">
            <div class="label"><span>ä»Šï¼ˆå³ï¼‰</span><span id="preNowPct">0%</span></div>
            <div class="barwrap"><div class="bar" id="preNowBar"></div></div>
          </div>

          <div class="total" id="preTotal">åˆè¨ˆé€²æ—ï¼š0%</div>
          <div class="note" id="preNote">æ“ä½œã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã€ä¸­å¤®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒè‡ªå‹•ã§æ•°å›å¾€å¾©ã—ã¾ã™ã€‚</div>
          <div class="actions">
            <button id="preSkip">ã‚¹ã‚­ãƒƒãƒ—ã—ã¦å†ç”Ÿ</button>
            <button id="preStart" disabled>æº–å‚™ã§ããŸã‚‰å†ç”Ÿ</button>
          </div>
        </div>
      </div>

      <!-- ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã®ã¿ä½¿ã†ãƒ•ã‚§ãƒ¼ãƒ‰UIï¼ˆå‹•ç”»ä¸Šï¼‰ -->
      <div class="fade-bottom" id="fadeBottom" style="display:none">
        <div class="wrap2">
          <span>æ˜”</span>
          <input id="fadeBottomRange" type="range" min="0" max="100" value="100" step="1" aria-label="ãƒ•ã‚§ãƒ¼ãƒ‰ï¼ˆæ˜”â†”ä»Šï¼‰">
          <span>ä»Š</span>
        </div>
      </div>
    </section>

    <!-- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -->
    <section class="timeline" aria-label="ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³">
      <div class="time" id="timeCur">00:00</div>
      <div class="scrub-wrap">
        <div class="buffer"><div class="bar" id="bufferBar"></div></div>
        <input id="scrub" class="scrub" type="range" min="0" max="1" step="0.0001" value="0" aria-label="å†ç”Ÿä½ç½®">
      </div>
      <div class="time" id="timeDur">--:--</div>
    </section>

    <!-- æ“ä½œç¾¤ -->
    <section class="controls" aria-label="å†ç”Ÿã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«">
      <button id="playBtn"   type="button" title="å†ç”Ÿ">â–¶ï¸ å†ç”Ÿ</button>
      <button id="pauseBtn"  type="button" title="åœæ­¢">â¸ åœæ­¢</button>
      <button id="revBtn"    type="button" title="é€†å†ç”Ÿãƒˆã‚°ãƒ«">â†¶ é€†å†ç”Ÿ</button>
      <button id="stepBack"  type="button" title="ã‚³ãƒæˆ»ã—">âŸ² ã‚³ãƒæˆ»ã—</button>
      <button id="stepFwd"   type="button" title="ã‚³ãƒé€ã‚Š">âŸ³ ã‚³ãƒé€ã‚Š</button>
      <button id="restartBtn"type="button" title="å…ˆé ­">â†º å…ˆé ­</button>
      <button id="muteBtn"   type="button" title="ãƒŸãƒ¥ãƒ¼ãƒˆ">ğŸ”‡ ãƒŸãƒ¥ãƒ¼ãƒˆ</button>

      <select id="speedSel" title="å†ç”Ÿé€Ÿåº¦">
        <option value="0.25">0.25Ã—</option>
        <option value="0.5">0.5Ã—</option>
        <option value="1" selected>1Ã—</option>
        <option value="1.5">1.5Ã—</option>
        <option value="2">2Ã—</option>
      </select>

      <div class="range">
        <span id="rangeLabel">æ¯”è¼ƒï¼ˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼‰ï¼š</span>
        <input id="range" type="range" min="0" max="100" value="50" step="0.1" aria-label="æ¯”è¼ƒä½ç½®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼">
      </div>

      <button id="fsBtn" type="button" title="ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³">â›¶ å…¨ç”»é¢</button>
    </section>

    <!-- å‹•ç”»ã®å¤–ï¼šä¸‹å´ï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰ç”¨å¤§å‹ãƒãƒ¼ï¼šãƒ•ã‚§ãƒ¼ãƒ‰æ™‚ã ã‘è¡¨ç¤ºï¼‰ -->
    <section id="fadeOut" class="fade-out" aria-label="ãƒ•ã‚§ãƒ¼ãƒ‰ï¼ˆå‹•ç”»ã®å¤–ãƒ»çœŸä¸‹ï¼‰">
      <div class="wrap2">
        <span>æ˜”</span>
        <input id="fadeOutRange" type="range" min="0" max="100" value="100" step="1" aria-label="ãƒ•ã‚§ãƒ¼ãƒ‰ï¼ˆæ˜”â†”ä»Šï¼‰">
        <span>ä»Š</span>
      </div>
    </section>
  </main>

<script>
/* ====== è¨­å®šï¼šå‹•ç”»IDï¼ˆå·®ã—æ›¿ãˆï¼‰ ====== */
const YT_PAST_ID = 'fiPFFeMANPE';   // æ˜”ï¼ˆå·¦ï¼‰
const YT_NOW_ID  = 'PcQBo31ou10';   // ä»Šï¼ˆå³ï¼‰

/* ====== å‚ç…§ ====== */
const compare   = document.getElementById('compare');
const handle    = document.getElementById('handle');
const range     = document.getElementById('range');
const modeBtn   = document.getElementById('modeBtn');
const modeBadgeFS = document.getElementById('modeBadgeFS');
const fadeBottomRange = document.getElementById('fadeBottomRange');
const fadeOutRange = document.getElementById('fadeOutRange');
const loading   = document.getElementById('loading');
const timeCur   = document.getElementById('timeCur');
const timeDur   = document.getElementById('timeDur');
const scrub     = document.getElementById('scrub');
const bufferBar = document.getElementById('bufferBar');
const playBtn   = document.getElementById('playBtn');
const pauseBtn  = document.getElementById('pauseBtn');
const restartBtn= document.getElementById('restartBtn');
const muteBtn   = document.getElementById('muteBtn');
const speedSel  = document.getElementById('speedSel');
const fsBtn     = document.getElementById('fsBtn');
const clickshield= document.getElementById('clickshield');
const fadeBottom = document.getElementById('fadeBottom');
const fadeOut = document.getElementById('fadeOut');

const guide = document.getElementById('guide');
const guideClose = document.getElementById('guideClose');

/* ãƒ—ãƒ¬ãƒ­ãƒ¼ãƒ‰UI */
const preload   = document.getElementById('preload');
const prePastBar= document.getElementById('prePastBar');
const preNowBar = document.getElementById('preNowBar');
const prePastPct= document.getElementById('prePastPct');
const preNowPct = document.getElementById('preNowPct');
const preStart  = document.getElementById('preStart');
const preSkip   = document.getElementById('preSkip');
const preNote   = document.getElementById('preNote');
const preTotal  = document.getElementById('preTotal');

let mode='slider'; // æ—¢å®šï¼šã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
let split=50;
function setSplit(p){
  split=Math.max(0,Math.min(100,p));
  document.documentElement.style.setProperty('--split', split.toFixed(2)+'%');
  handle.setAttribute('aria-valuenow', split.toFixed(1));
  range.value=split;
}
function setFade(p){
  const v=Math.max(0,Math.min(100,p))/100;
  document.documentElement.style.setProperty('--fade', v.toFixed(3));
  if(fadeBottomRange) fadeBottomRange.value=Math.round(p);
  if(fadeOutRange) fadeOutRange.value=Math.round(p);
}
setSplit(50); setFade(100);

/* ====== ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆé€šå¸¸ã¯å‹•ç”»ã®å¤–ã€FSæ™‚ã¯ãƒãƒƒã‚¸è¡¨ç¤ºï¼‰ ====== */
function applyMode(m){
  mode=m;
  compare.classList.toggle('mode-fade',   m==='fade');
  compare.classList.toggle('mode-slider', m==='slider');
  const label = 'ãƒ¢ãƒ¼ãƒ‰ï¼š' + (m==='fade'?'ãƒ•ã‚§ãƒ¼ãƒ‰':'ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼');
  modeBtn.textContent = label;
  modeBadgeFS.textContent = label;
  document.getElementById('rangeLabel').textContent = (m==='fade'?'ãƒ•ã‚§ãƒ¼ãƒ‰ï¼š':'æ¯”è¼ƒï¼ˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼‰ï¼š');
  // å‹•ç”»ã®å¤–ã®ãƒ•ã‚§ãƒ¼ãƒ‰ãƒãƒ¼è¡¨ç¤ºåˆ‡æ›¿
  document.body.classList.toggle('show-fade-out', m==='fade' && !document.fullscreenElement);
  // ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³æ™‚ã¯å‹•ç”»å†…ãƒ•ã‚§ãƒ¼ãƒ‰ãƒãƒ¼è¡¨ç¤º
  fadeBottom.style.display = (m==='fade' && document.fullscreenElement) ? 'flex' : 'none';
}
applyMode('slider');
modeBtn.addEventListener('click', ()=> applyMode(mode==='fade'?'slider':'fade'));
[fadeBottomRange, fadeOutRange].forEach(el=>{
  if(el) el.addEventListener('input', e=> setFade(parseFloat(e.target.value)));
});

/* ====== ä¸­å¤®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ãƒ»ãƒ‰ãƒ©ãƒƒã‚°ï¼‰ ====== */
function clientXToPercent(clientX){
  const r=compare.getBoundingClientRect(); return (clientX-r.left)/r.width*100;
}
let dragging=false;
function startDrag(){ dragging=true; document.body.style.cursor='ew-resize'; stopDemo(); }
function moveDrag(e){
  if(!dragging) return;
  const x = (e.touches && e.touches[0]) ? e.touches[0].clientX : e.clientX;
  mode==='slider' ? setSplit(clientXToPercent(x)) : setFade(clientXToPercent(x));
}
function endDrag(){ dragging=false; document.body.style.cursor=''; }
handle.addEventListener('mousedown', startDrag);
window.addEventListener('mousemove', moveDrag, {passive:true});
window.addEventListener('mouseup', endDrag);
handle.addEventListener('touchstart', e=>{e.preventDefault();startDrag();},{passive:false});
window.addEventListener('touchmove', moveDrag, {passive:false});
window.addEventListener('touchend', endDrag);
compare.addEventListener('pointerdown', e=>{
  if(e.target!==handle){
    const p=clientXToPercent(e.clientX);
    mode==='slider'?setSplit(p):setFade(p);
    stopDemo();
  }
});
range.addEventListener('input', e=>{
  const p=parseFloat(e.target.value);
  mode==='slider'?setSplit(p):setFade(p);
  stopDemo();
});

/* ====== ãƒ‡ãƒ¢å¾€å¾©ï¼ˆåˆæœŸã¯æ•°å›ã ã‘å¾€å¾© â†’ è¦æœ›ã©ãŠã‚Šï¼‰ ====== */
let demoRAF=null, demoDir=1, demoStart=null, demoTrips=0, demoMaxTrips=4; // å¾€å¾©2å›åˆ†=4ç‰‡é“
function demoStep(ts){
  if(!demoStart) demoStart=ts;
  const dur=2600; // 2.6sã§ç‰‡é“
  const t=(ts-demoStart)%dur;
  const k=t/dur;
  const a=20, b=80; // 20%â‡”80%ã‚’å¾€å¾©
  const val = demoDir>0 ? (a + (b-a)*k) : (b - (b-a)*k);
  setSplit(val);
  if(k>=0.999){
    demoDir*=-1; demoStart=ts; demoTrips++;
    if(preload.classList.contains('show') && demoTrips>=demoMaxTrips){
      // è¦å®šå›æ•°ãŒçµ‚ã‚ã£ãŸã‚‰åœæ­¢ï¼ˆãƒ—ãƒ¬ãƒ­ãƒ¼ãƒ‰ãŒé•·å¼•ã‘ã°ãƒ«ãƒ¼ãƒ—å»¶é•·ï¼‰
      stopDemo();
    }
  }
  demoRAF=requestAnimationFrame(demoStep);
}
function startDemo(){ if(!demoRAF) demoRAF=requestAnimationFrame(demoStep); }
function stopDemo(){ if(demoRAF){ cancelAnimationFrame(demoRAF); demoRAF=null; } }
startDemo();

/* ====== ã‚¯ãƒªãƒƒã‚¯ã§åœæ­¢ã—ãªã„ ====== */
clickshield.addEventListener('click', ()=>{}); // no-op

/* ====== ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ï¼ˆiOSãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å«ã‚€ï¼‰ ====== */
function enterFullscreen(el){
  const anyEl = el;
  if(anyEl.requestFullscreen) return anyEl.requestFullscreen();
  if(anyEl.webkitRequestFullscreen) return anyEl.webkitRequestFullscreen(); // iOS Safari
  if(anyEl.msRequestFullscreen) return anyEl.msRequestFullscreen();
}
function exitFullscreen(){
  if(document.exitFullscreen) return document.exitFullscreen();
  if(document.webkitExitFullscreen) return document.webkitExitFullscreen();
  if(document.msExitFullscreen) return document.msExitFullscreen();
}
function isFullscreen(){
  return !!(document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement);
}
document.addEventListener('fullscreenchange', onFSChange);
document.addEventListener('webkitfullscreenchange', onFSChange);
function onFSChange(){
  const fs = isFullscreen();
  document.body.classList.toggle('fs', fs);
  // å¤–UIã®è¡¨ç¤ºèª¿æ•´
  modeBadgeFS.style.display = fs ? 'block' : 'none';
  fadeBottom.style.display  = (mode==='fade' && fs) ? 'flex' : 'none';
  document.body.classList.toggle('show-fade-out', mode==='fade' && !fs);
}
fsBtn.addEventListener('click', async ()=>{
  try{
    if(!isFullscreen()){ await enterFullscreen(compare); }
    else { await exitFullscreen(); }
  }catch(e){}
});

/* ====== YouTube IFrame API ====== */
let pastPlayer, nowPlayer;
let readyPast=false, readyNow=false;
let rafId=null, tickTimer=null;
let reverseRAF=null;
const SYNC_EPS=0.20;

/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
function showLoading(){ loading.classList.add('show'); }
function hideLoading(){ loading.classList.remove('show'); }

/* æ™‚åˆ»UI */
function formatTime(sec){
  if(!isFinite(sec)) return '--:--';
  const s=Math.max(0,Math.floor(sec)), h=Math.floor(s/3600), m=Math.floor((s%3600)/60), r=s%60;
  return h>0 ? `${h}:${String(m).padStart(2,'0')}:${String(r).padStart(2,'0')}` : `${m}:${String(r).padStart(2,'0')}`;
}
function updateDuration(){
  const d=Math.min(pastPlayer?.getDuration()||0, nowPlayer?.getDuration()||0);
  if(d>0){ timeDur.textContent=formatTime(d); scrub.max=d; }
}
function updateTimeUI(){
  const t=Math.min(pastPlayer?.getCurrentTime()||0, nowPlayer?.getCurrentTime()||0);
  const d=Math.min(pastPlayer?.getDuration()||0, nowPlayer?.getDuration()||0);
  timeCur.textContent=formatTime(t);
  if(d>0){ scrub.value=t; }
  const frac = nowPlayer?.getVideoLoadedFraction ? nowPlayer.getVideoLoadedFraction() : 0;
  bufferBar.style.width = Math.max(0, Math.min(100, frac*100)) + '%';
}
function seekBoth(t){
  const d=Math.min(pastPlayer?.getDuration()||0, nowPlayer?.getDuration()||0);
  const clamped=Math.max(0, Math.min(d||0, t));
  pastPlayer?.seekTo(clamped, true);
  nowPlayer?.seekTo(clamped, true);
  updateTimeUI();
}

/* åŒæœŸãƒ«ãƒ¼ãƒ—ï¼ˆå†ç”Ÿä¸­ã®ã¿å¸ç€ï¼‰ */
const SOFT_HOLD = 0.30;
function syncTick(){
  if(!(readyPast&&readyNow)) return;
  const tp=pastPlayer.getCurrentTime(), tn=nowPlayer.getCurrentTime();
  const dp=Math.abs(tp-tn);
  const np=nowPlayer.getPlayerState(), pp=pastPlayer.getPlayerState();
  if(np===1 || pp===1){
    if(dp>SOFT_HOLD && tn>tp){
      try{ nowPlayer.pauseVideo(); }catch(e){}
      setTimeout(()=>{ try{ nowPlayer.playVideo(); }catch(e){} }, 200);
    }else if(dp>SYNC_EPS){
      pastPlayer.seekTo(tn, true);
    }
  }
  updateTimeUI();
  rafId=requestAnimationFrame(syncTick);
}
function startSync(){ if(!rafId){ rafId=requestAnimationFrame(syncTick); } if(!tickTimer){ tickTimer=setInterval(updateTimeUI,200); } }
function stopSync(){ if(rafId){ cancelAnimationFrame(rafId); rafId=null; } if(tickTimer){ clearInterval(tickTimer); tickTimer=null; } }

/* å†ç”Ÿãƒ»åœæ­¢ãƒ»é€Ÿåº¦ãƒ»ã‚³ãƒé€ã‚Š/æˆ»ã—ãƒ»é€†å†ç”Ÿ */
function playBoth(){
  if(!(readyPast&&readyNow)) return;
  pastPlayer.playVideo(); nowPlayer.playVideo();
  stopDemo();
}
function pauseBoth(){ pastPlayer?.pauseVideo(); nowPlayer?.pauseVideo(); }
playBtn.addEventListener('click', ()=>{
  if(!(readyPast && readyNow)) return;
  if(preload.classList.contains('show')){
    preNote.textContent = 'èª­ã¿è¾¼ã¿æº–å‚™ä¸­ã§ã™ã€‚ä¸‹ã®ãƒœã‚¿ãƒ³ã‹ã‚‰å†ç”Ÿã§ãã¾ã™ã€‚';
    return;
  }
  playBoth();
});
pauseBtn.addEventListener('click', ()=> pauseBoth());
restartBtn.addEventListener('click', ()=> seekBoth(0));
muteBtn.addEventListener('click', ()=>{
  const muted = nowPlayer?.isMuted?.();
  if(muted){ nowPlayer.unMute(); pastPlayer.unMute(); muteBtn.textContent='ğŸ”‡ ãƒŸãƒ¥ãƒ¼ãƒˆ'; }
  else{ nowPlayer.mute(); pastPlayer.mute(); muteBtn.textContent='ğŸ”Š ãƒŸãƒ¥ãƒ¼ãƒˆè§£é™¤'; }
});
speedSel.addEventListener('change', ()=>{
  const r=parseFloat(speedSel.value)||1;
  nowPlayer?.setPlaybackRate?.(r);
  pastPlayer?.setPlaybackRate?.(r);
});
scrub.addEventListener('input', e=> seekBoth(parseFloat(e.target.value)));

/* ã‚³ãƒé€ã‚Š/æˆ»ã—ï¼ˆ1/30ç§’åˆ»ã¿ï¼‰ */
const frameSec=1/30;
document.getElementById('stepFwd').addEventListener('click', ()=>{ pauseBoth(); seekBoth((nowPlayer?.getCurrentTime()||0)+frameSec); });
document.getElementById('stepBack').addEventListener('click', ()=>{ pauseBoth(); seekBoth((nowPlayer?.getCurrentTime()||0)-frameSec); });

/* é€†å†ç”Ÿï¼ˆç°¡æ˜“ï¼‰ */
function reverseLoop(){
  const rate=parseFloat(speedSel.value)||1;
  const step=(1/60)*rate;
  const t=Math.max(0,(nowPlayer?.getCurrentTime()||0)-step);
  seekBoth(t);
  if(t<=0){ stopReverse(); pauseBoth(); return; }
  reverseRAF=requestAnimationFrame(reverseLoop);
}
function startReverse(){
  pauseBoth();
  if(!reverseRAF){
    reverseRAF=requestAnimationFrame(reverseLoop);
    document.getElementById('revBtn').textContent='â¹ é€†å†ç”Ÿåœæ­¢';
    stopDemo();
  }
}
function stopReverse(){
  if(reverseRAF){ cancelAnimationFrame(reverseRAF); reverseRAF=null; document.getElementById('revBtn').textContent='â†¶ é€†å†ç”Ÿ'; }
}
document.getElementById('revBtn').addEventListener('click', ()=> reverseRAF?stopReverse():startReverse());

/* ====== äº‹å‰ãƒãƒƒãƒ•ã‚¡ï¼šè¦‹ãˆã‚‹åŒ–å¼·åŒ– ====== */
const PRE_SLOW = 0.06;
const PRE_FAST = 0.03;
const PRE_TIMEOUT = 9000;

let preloadTimer=null, preloadResolving=false;
function showPreload(){ preload.classList.add('show'); }
function hidePreload(){ preload.classList.remove('show'); }
function getFrac(p){ return p?.getVideoLoadedFraction ? p.getVideoLoadedFraction() : 0; }
function updatePreloadUI(fp, fn){
  const pPast = Math.round(Math.max(0, Math.min(1, fp))*100);
  const pNow  = Math.round(Math.max(0, Math.min(1, fn))*100);
  prePastBar.style.width = pPast + '%';
  preNowBar.style.width  = pNow  + '%';
  prePastPct.textContent = pPast + '%';
  preNowPct.textContent  = pNow  + '%';
  const total = Math.round((pPast + pNow)/2);
  preTotal.textContent = 'åˆè¨ˆé€²æ—ï¼š' + total + '%';
}
function decideReady(fp, fn){
  const pastIsSlow = fp < fn - 0.03;
  const okPast = fp >= (pastIsSlow ? PRE_SLOW : PRE_FAST);
  const okNow  = fn >= (pastIsSlow ? PRE_FAST : PRE_SLOW);
  return okPast && okNow;
}
function startPreloadWait(){
  if(preloadResolving) return;
  preloadResolving = true;
  showPreload();
  preStart.disabled = true;
  demoTrips = 0; // ãƒ‡ãƒ¢å¾€å¾©ã‚«ã‚¦ãƒ³ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆ
  startDemo();   // èª­ã¿è¾¼ã¿ä¸­ã¯æ•°å›ã ã‘è‡ªå‹•å¾€å¾©

  const t0 = performance.now();
  function tick(){
    const fp = getFrac(pastPlayer), fn = getFrac(nowPlayer);
    updatePreloadUI(fp, fn);

    if(decideReady(fp, fn)){
      preNote.textContent = 'æº–å‚™å®Œäº†ï¼šå†ç”Ÿã§ãã¾ã™ã€‚å¿…è¦ãªã‚‰ã€Œæº–å‚™ã§ããŸã‚‰å†ç”Ÿã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚';
      preStart.disabled = false;
    }else{
      preStart.disabled = true;
      preNote.textContent = 'èª­ã¿è¾¼ã¿ä¸­â€¦ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã«ã‚ˆã‚Šæ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãŒè‡ªå‹•ã§æ•°å›å¾€å¾©ã—ã¾ã™ï¼‰ã€‚';
    }
    if(performance.now() - t0 > PRE_TIMEOUT){
      preNote.textContent = 'ååˆ†ã«èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸãŒå†ç”Ÿå¯èƒ½ã§ã™ï¼ˆã‚¹ã‚­ãƒƒãƒ—å¯ï¼‰ã€‚';
      preStart.disabled = false; // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¾Œã¯è¨±å¯
      // ã¾ã ãƒ‡ãƒ¢ãŒå‹•ã„ã¦ã„ã‚Œã°æ­¢ã‚ã‚‹
      stopDemo();
    }
  }
  tick();
  preloadTimer = setInterval(tick, 150);
}
function stopPreloadWait(){
  if(preloadTimer){ clearInterval(preloadTimer); preloadTimer=null; }
  preloadResolving=false;
  hidePreload();
}

/* èª­ã¿è¾¼ã¿ãŒé…ã„å ´åˆã®è»½é‡åŒ–ï¼ˆéå»å´ï¼‰ */
function lowerPastQualityTemporarily(){ try{ pastPlayer.setPlaybackQuality('hd720'); }catch(e){} }
function restorePastQuality(){ try{ pastPlayer.setPlaybackQuality('hd1080'); }catch(e){} }
let microSeekTimer=null;
function startMicroSeekOnPast(){
  stopMicroSeek();
  let dir=1, pos=0.0;
  microSeekTimer = setInterval(()=>{
    pos = (dir>0)? 0.5 : 0.0; // 0sâ†”0.5s å¾€å¾©
    try{ pastPlayer.seekTo(pos, true); }catch(e){}
    dir *= -1;
  }, 700);
}
function stopMicroSeek(){ if(microSeekTimer){ clearInterval(microSeekTimer); microSeekTimer=null; } }

/* ãƒ—ãƒ¬ãƒ­ãƒ¼ãƒ‰å†…ã®ãƒœã‚¿ãƒ³ */
preStart.addEventListener('click', ()=>{
  stopPreloadWait(); stopMicroSeek(); stopDemo();
  const t = Math.min(pastPlayer.getCurrentTime()||0, nowPlayer.getCurrentTime()||0);
  pastPlayer.seekTo(t, true); nowPlayer.seekTo(t, true);
  pastPlayer.playVideo(); nowPlayer.playVideo();
  setTimeout(()=> restorePastQuality(), 3000);
});
preSkip.addEventListener('click', ()=>{
  stopPreloadWait(); stopMicroSeek(); stopDemo();
  pastPlayer.playVideo(); nowPlayer.playVideo();
  setTimeout(()=> restorePastQuality(), 3000);
});

/* ====== YouTube IFrame API èª­ã¿è¾¼ã¿ï¼†ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”Ÿæˆ ====== */
const tag=document.createElement('script');
tag.src="https://www.youtube.com/iframe_api";
document.head.appendChild(tag);
window.onYouTubeIframeAPIReady = function(){
  const playerVars = { playsinline:1, controls:0, rel:0, fs:0, iv_load_policy:3, disablekb:1, origin: location.origin };
  showLoading();
  pastPlayer = new YT.Player('pastBox', {
    videoId: YT_PAST_ID, width:'100%', height:'100%', playerVars,
    events:{ onReady: e=>{ readyPast=true; e.target.mute(); checkReady(); }, onStateChange: onStateChange }
  });
  nowPlayer = new YT.Player('nowBox', {
    videoId: YT_NOW_ID, width:'100%', height:'100%', playerVars,
    events:{ onReady: e=>{ readyNow=true; e.target.mute(); checkReady(); }, onStateChange: onStateChange }
  });
};
function onStateChange(ev){
  const s=ev.data; // -1 æœªé–‹å§‹,0 çµ‚äº†,1 å†ç”Ÿ,2 åœæ­¢,3 ãƒãƒƒãƒ•ã‚¡,5 cued
  if(s===3){ showLoading(); }
  if(s===1||s===2||s===5){ hideLoading(); }
  if(s===0){ pauseBoth(); }
}

/* ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æº–å‚™å®Œäº†æ™‚ */
function checkReady(){
  if(readyPast && readyNow){
    hideLoading();
    updateDuration();
    updateTimeUI();
    startSync();

    // åˆå›æ³¨é‡ˆï¼ˆ1å›ã ã‘ï¼‰
    if(!localStorage.getItem('ytCompareGuideSeen')){
      guide.classList.add('show');
    }

    // äº‹å‰ãƒãƒƒãƒ•ã‚¡é–‹å§‹ï¼ˆè¦‹ãˆã‚‹åŒ–ï¼‹æ•°å›ãƒ‡ãƒ¢å¾€å¾©ï¼‰
    startPreloadWait();

    // éå»ãŒé…ãã†ãªã‚‰è»½ãå“è³ªãƒ€ã‚¦ãƒ³ï¼†ãƒã‚¤ã‚¯ãƒ­ã‚·ãƒ¼ã‚¯
    const fP = getFrac(pastPlayer), fN = getFrac(nowPlayer);
    if(fP < fN - 0.03){ lowerPastQualityTemporarily(); startMicroSeekOnPast(); }
  }
}

/* åˆå›æ³¨é‡ˆ */
function hideGuide(){
  guide.classList.remove('show');
  localStorage.setItem('ytCompareGuideSeen','1');
  stopDemo(); // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé–‰ã˜ãŸã‚‰ãƒ‡ãƒ¢åœæ­¢
}
guideClose.addEventListener('click', hideGuide);
</script>
</body>
</html>
